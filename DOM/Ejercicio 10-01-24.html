<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Document Object Model</title>
    </head>
    <body>
        <div id="bloque3">
            <h2>DAM</h2>
            <ul id="lista">
                <li>Sistemas Gestión Empresarial</li>
                <li>Programación Multimedia y Disp. Móviles</li>
                <li>Desarrollo de Interfaces</li>
            
            </ul>
        </div>
        <div id="bloque10">
            <h2>DAW</h2>
            <ul id="lista">
                <li>DWES</li>
                <li>DWEC</li>
	            <li>Despliegue Web</li>
	            <li>Diseño Interfaces Web </li>
            </ul>
        </div>
        <div id="texto"></div>
        <script>

            window.addEventListener("load",inicio);
            function inicio(){
                for(let i=0;i<document.getElementsByTagName("h2").length;i++){
                    document.getElementsByTagName("h2")[i].addEventListener("click",cursar);
                }
            }

            function cursar(e){
                var h2=e.target;
                var text="";
                text += "Has elegido el ciclo: " + h2.textContent +", ";
                var parent= h2.parentElement;
                text += "la clase está ubicada en el " + parent.id + ", ";
                var ul = h2.nextElementSibling;
                text += " los módulos que contiene son: ";
                for(let i=0;i<ul.children.length;i++){
                    text += ul.children[i].textContent;
                    if(i!=ul.children.length-1 && i!=ul.children.length-2)
                    text += ", ";
                    else if(i==ul.children.length-2)
                    text += " y ";
                    else
                    text += ".";
                }
                document.getElementById("texto").innerHTML= text;
            }
            //document.getElementById("bloque3").children.addEventListener()
        </script>
    </body>
</html>